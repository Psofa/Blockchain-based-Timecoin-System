# 1.注册登录模块

## 1.1 注册

### 1.1.1 请求路径

/register

### 1.1.2 请求方式

POST

### 1.1.3 接口描述

用于注册不同类型的用户

### 1.1.4 请求数据

格式：json

| 参数名称 | 参数类型 | 是否必传 | 备注                                          |      |
| -------- | -------- | -------- | --------------------------------------------- | ---- |
| username | string   | 必须     | 用户名                                        |      |
| name     | string   | 必须     | 真实姓名                                      |      |
| password | string   | 必须     | 密码                                          |      |
| role     | number   | 必须     | 用户类型，1代表老人，2代表志愿者，3代表管理员 |      |
| email    | string   | 非必须   | 邮箱                                          |      |
| age      | number   | 必须     | 年龄                                          |      |
| phone    | string   | 非必须   | 电话号码                                      |      |
| address  | string   | 非必须   | 地方                                          |      |

请求数据样例：

```json
{
    "username":"tang",
    "name":"唐"
    "password":"123456",
    "role":1,
    "email":"123@qq.com",
    "age":12,
    "phone":"124324",
    "address":"重庆市"
}
```

### 1.1.5 响应数据

格式：json

| 参数名称 | 参数类型 | 是否必传 | 备注                         |
| -------- | -------- | -------- | ---------------------------- |
| code     | number   | 必须     | 响应码，1代表成功，0代表失败 |
| msg      | string   | 非必须   | 提示信息                     |
| data     | object   | 非必须   | 返回的数据                   |

响应数据样例：

```json
{
    "code":1,
    "msg":"success",
    "data":null
}
```

## 1.2 登录

### 1.2.1 请求路径

/login

### 1.2.2 请求方式

POST

### 1.2.3 接口描述

用于员工登录系统，登录完毕后，下发jwt令牌

### 1.2.4 请求数据

格式：json

| 参数名称 | 参数类型 | 是否必传 | 备注   |
| -------- | -------- | -------- | ------ |
| username | string   | 必须     | 用户名 |
| password | string   | 必须     | 密码   |

样例：

```json
{
    "username":"tang",
    "password":"123"
}
```

### 1.2.5 响应数据

格式：json

| 参数名称 | 参数类型 | 是否必传 | 备注                 |
| -------- | -------- | -------- | -------------------- |
| code     | number   | 必须     | 响应码，1成功，0失败 |
| msg      | string   | 非必须   | 提示信息             |
| data     | string   | 必须     | 返回的数据，jwt令牌  |

样例：

```json
{
    "code":1,
    "msg":"success",
    "data":{
        "token":"fhjasuifewq",
        "role":1
	}

}
```

用户登录失败的错误信息

```json
{
	"code":0,
    "msg":"NOT_LOGIN",
    "data":null
}
```

# 2.管理员模块

## 2.1 查询活动

### 2.1.1 请求路径

/administrator

### 2.1.2 请求方式

GET

### 2.1.3 接口描述

用于分页和分类查询活动

### 2.1.4 请求数据

格式：queryString

| 参数名称 | 是否必传 | 示例       | 备注                                                         |
| -------- | -------- | ---------- | ------------------------------------------------------------ |
| title    | 否       | 打扫       | 根据活动标题模糊匹配查询                                     |
| date     | 否       | 2022-01-02 | 根据活动日期查询                                             |
| begin    | 否       | 12:34:32   | 根据活动开始时间查询，时分秒                                 |
| end      | 否       | 12:43:12   | 根据活动结束时间查询，在begin和end时间段类的都能查询         |
| status   | 否       | 1          | 1代表未审核的活动，2代表审核同意的活动，3代表审核不同意的活动，4代表已过期的活动 |
| address  | 否       | 重庆市     | 根据地址模糊匹配                                             |
| page     | 是       | 1          | 分页查询的页码，如果未指定，默认为1                          |
| pageSize | 是       | 10         | 分页查询的每页记录数，如果未指定，默认为10                   |

样例：

```
/administrator?title=打扫&date=2022-1-2&page=1&pageSize=10
```

### 2.1.5 响应数据

格式：json

| 参数名称            | 参数类型 | 是否必传 | 备注                                                         |
| ------------------- | -------- | -------- | ------------------------------------------------------------ |
| code                | number   | 必须     | 响应码，1成功，0失败                                         |
| msg                 | string   | 必须     | 提示信息                                                     |
| data                | object   | 必须     | 返回的数据                                                   |
| \|-total            | number   | 必须     | 总记录数                                                     |
| \|-rows             | object[] | 必须     | 每个活动的数据包装进去                                       |
| \|-id               | number   | 非必须   | 活动的id                                                     |
| \|-title            | string   | 非必须   | 志愿者活动标题                                               |
| \|-quota            | string   | 非必须   | 活动名额                                                     |
| \|-deadline         | string   | 非必须   | 活动截止时间                                                 |
| \|-date             | string   | 非必须   | 活动日期                                                     |
| \|-begin            | string   | 非必须   | 活动开始时间，时分秒                                         |
| \|-end              | string   | 非必须   | 活动结束时间，时分秒                                         |
| \|-address          | string   | 非必须   | 活动地址                                                     |
| \|-oldId            | number   | 非必须   | (id的大写Id)，发布活动的老人id                               |
| \|-phone            | string   | 非必须   | 发布人的电话号码                                             |
| \|-description      | string   | 非必须   | 对于该志愿活动的描述                                         |
| \|-status           | number   | 非必须   | 1代表未审核的活动，2代表审核同意的活动，3代表审核不同意的活动，4代表已过期的活动 |
| \|-administrator_id | number   | 非必须   | 如果审核了，管理员的管理员id                                 |
| \|-create_time      | string   | 非必须   | 创建时间                                                     |
| \|-update_time      | string   | 非必须   | 更新时间                                                     |
| \|-message          | string   | 非必须   | 管理员对项目的意见，主要对不同意的活动                       |
| \|-remain           | number   | 非必须   | 活动剩余名额                                                 |

样例：

```json
{
    "code":1,
    "msg":"success",
    "data":{
        "total":2,
        "row":[
            {
				"id":"1",
                ...省略了,
                "message":"这个用户活动不对劲"
            }
            {
            	"id":"2",
                ...省略了,
                "message":"这个用户活动不对劲"
            }
            
        ]
	}

}
```

## 2.2 删除活动

### 2.2.1 请求路径

/administrator/{ids}

注：这是活动的id

### 2.2.2 请求方式

DELETE

### 2.2.3 接口描述

用于删除活动

### 2.2.4 请求数据

格式：路径参数

| 参数名 | 类型      | 示例  | 是否必须 | 备注         |
| ------ | --------- | ----- | -------- | ------------ |
| ids    | 数组array | 1,2,3 | 必须     | 活动的id数组 |

### 2.2.5 响应数据

格式：json

| 参数名称 | 参数类型 | 是否必传 | 备注                 |
| -------- | -------- | -------- | -------------------- |
| code     | number   | 必须     | 响应码，1成功，0失败 |
| msg      | string   | 非必须   | 提示信息             |
| data     | string   | 必须     |                      |

```json
{
    "code":1,
    "msg":"success",
    "data":null
}
```

## 2.3 修改活动

### 2.3.1 请求路径

/administrator

### 2.3.2 请求方式

PUT

### 2.3.3 接口描述

修改活动信息

### 2.3.4 请求数据

格式json

| 参数名称         | 参数类型 | 是否必传 | 备注                                                         |
| ---------------- | -------- | -------- | ------------------------------------------------------------ |
| id               | number   | 非必须   | 活动的id                                                     |
| title            | string   | 非必须   | 志愿者活动标题                                               |
| quota            | string   | 非必须   | 活动名额                                                     |
| deadline         | string   | 非必须   | 活动截止时间                                                 |
| date             | string   | 非必须   | 活动日期                                                     |
| begin            | string   | 非必须   | 活动开始时间，时分秒                                         |
| end              | string   | 非必须   | 活动结束时间，时分秒                                         |
| address          | string   | 非必须   | 活动地址                                                     |
| oldId            | number   | 非必须   | (id的大写Id)，发布活动的老人id                               |
| phone            | string   | 非必须   | 发布人的电话号码                                             |
| description      | string   | 非必须   | 对于该志愿活动的描述                                         |
| status           | number   | 非必须   | 1代表未审核的活动，2代表审核同意的活动，3代表审核不同意的活动，4代表已过期的活动 |
| administrator_id | number   | 非必须   | 如果审核了，管理员的管理员id                                 |
| message          | string   | 非必须   | 管理员对项目的意见，主要对不同意的活动                       |
| remain           | number   | 非必须   | 活动剩余名额                                                 |

示例：

```json
{
	"id":"1",
	 ...省略了,
	"message":"这个用户活动不对劲",
    "remain":"123"
}
```



### 2.3.5 响应数据

格式：json

| 参数名称 | 参数类型 | 是否必传 | 备注                 |
| -------- | -------- | -------- | -------------------- |
| code     | number   | 必须     | 响应码，1成功，0失败 |
| msg      | string   | 非必须   | 提示信息             |
| data     | string   | 必须     |                      |

```json
{
    "code":1,
    "msg":"success",
    "data":null
}
```

## 2.4 新增活动

### 2.4.1 请求路径

/administrator

### 2.4.2 请求方式

POST

### 2.4.3 接口描述

新增加活动信息

### 2.4.4 请求数据

json格式

| 参数名称         | 参数类型 | 是否必传 | 备注                                                         |
| ---------------- | -------- | -------- | ------------------------------------------------------------ |
| title            | string   | 必须     | 志愿者活动标题                                               |
| quota            | string   | 必须     | 活动名额                                                     |
| deadline         | string   | 必须     | 活动截止时间                                                 |
| date             | string   | 必须     | 活动日期                                                     |
| begin            | string   | 必须     | 活动开始时间，时分秒                                         |
| end              | string   | 必须     | 活动结束时间，时分秒                                         |
| address          | string   | 必须     | 活动地址                                                     |
| oldId            | number   | 必须     | (id的大写Id)，发布活动的老人id                               |
| phone            | string   | 必须     | 发布人的电话号码                                             |
| description      | string   | 必须     | 对于该志愿活动的描述                                         |
| status           | number   | 必须     | 1代表未审核的活动，2代表审核同意的活动，3代表审核不同意的活动，4代表已过期的活动 |
| administrator_id | number   | 必须     | 如果审核了，管理员的管理员id                                 |
| message          | string   | 非必须   | 管理员对项目的意见，主要对不同意的活动                       |

示例

```json
{
	"id":"1",
	 ...省略了,
	"message":"这个用户活动不对劲"
}
```



### 2.4.5 响应数据

格式：json

| 参数名称 | 参数类型 | 是否必传 | 备注                 |
| -------- | -------- | -------- | -------------------- |
| code     | number   | 必须     | 响应码，1成功，0失败 |
| msg      | string   | 非必须   | 提示信息             |
| data     | string   | 必须     |                      |

示例：

```json
{
    "code":1,
    "msg":"success",
    "data":null
}
```

